name: Test Checkout Nabledge

on:
  push:
    branches:
      - dummy-from

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout nabledge-dev
        uses: actions/checkout@v4

      - name: Test token secret exists
        run: |
          if [ -z "${{ secrets.NABLEDGE_SYNC_TOKEN }}" ]; then
            echo "NABLEDGE_SYNC_TOKEN is not set"
            exit 1
          else
            echo "NABLEDGE_SYNC_TOKEN is set"
          fi

      - name: Checkout nabledge repository
        uses: actions/checkout@v4
        with:
          repository: nablarch/nabledge
          ref: dummy-to
          token: ${{ secrets.NABLEDGE_SYNC_TOKEN }}
          path: nabledge-repo

      - name: List nabledge repo
        run: ls -la nabledge-repo/
