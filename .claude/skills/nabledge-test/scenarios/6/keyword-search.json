{
  "metadata": {
    "version": "1.1.0",
    "created": "2026-02-10",
    "updated": "2026-02-10",
    "description": "Test scenarios for keyword-search workflow validation",
    "total_scenarios": 5
  },
  "scenarios": [
    {
      "id": "6-handlers-001",
      "category": "handlers",
      "file": "handlers/batch/data-read-handler.json",
      "question": "データリードハンドラでファイルを読み込むにはどうすればいいですか？",
      "expected_keywords": [
        "DataReadHandler",
        "DataReader",
        "ファイル読み込み",
        "データ入力",
        "レコード処理"
      ],
      "expected_sections": [
        "overview",
        "usage"
      ],
      "relevance": "high"
    },
    {
      "id": "6-libraries-001",
      "category": "libraries",
      "file": "libraries/universal-dao.json",
      "question": "UniversalDaoでページングを実装したい",
      "expected_keywords": [
        "ページング",
        "paging",
        "per",
        "page",
        "Pagination",
        "EntityList"
      ],
      "expected_sections": [
        "paging"
      ],
      "relevance": "high"
    },
    {
      "id": "6-tools-001",
      "category": "tools",
      "file": "tools/ntf-test-data.json",
      "question": "NTFでテストデータを準備する方法を教えてください",
      "expected_keywords": [
        "テストデータ",
        "NTF",
        "データ準備",
        "Excel",
        "データベース"
      ],
      "expected_sections": [
        "preparation",
        "setup"
      ],
      "relevance": "high"
    },
    {
      "id": "6-processing-001",
      "category": "processing",
      "file": "processing/nablarch-batch.json",
      "question": "Nablarchバッチの基本構造を教えてください",
      "expected_keywords": [
        "バッチ",
        "基本構造",
        "アーキテクチャ",
        "ハンドラ構成",
        "処理フロー"
      ],
      "expected_sections": [
        "overview",
        "architecture"
      ],
      "relevance": "high"
    },
    {
      "id": "6-adapters-001",
      "category": "adapters",
      "file": "adapters/slf4j-adapter.json",
      "question": "SLF4Jアダプタの設定方法を教えてください",
      "expected_keywords": [
        "SLF4J",
        "アダプタ",
        "設定",
        "ログ出力",
        "log4j"
      ],
      "expected_sections": [
        "configuration",
        "setup"
      ],
      "relevance": "high"
    }
  ],
  "evaluation_criteria": {
    "workflow_execution": {
      "description": "ワークフローが正しく実行されたか",
      "checks": [
        "keyword-search workflowが実行された",
        "section-judgement workflowが実行された",
        "適切なツール呼び出しが行われた（Read, Bash+jq）"
      ]
    },
    "keyword_matching": {
      "description": "期待されるキーワードが回答に含まれているか",
      "threshold": "80%以上のキーワードが含まれている"
    },
    "section_relevance": {
      "description": "適切なセクションが特定されたか",
      "checks": [
        "expected_sectionsに含まれるセクションが特定された",
        "関連性の高いセクション（High relevance）が優先された"
      ]
    },
    "knowledge_file_only": {
      "description": "知識ファイルのみを使って回答したか",
      "checks": [
        "LLM訓練データを使用していない",
        "外部知識を補足していない",
        "知識ファイルに記載されている情報のみを使用"
      ]
    },
    "token_efficiency": {
      "description": "トークン効率が適切か",
      "target": "5,000-15,000 tokens per query"
    },
    "tool_call_efficiency": {
      "description": "ツール呼び出し回数が適切か",
      "target": "10-20 tool calls per query"
    }
  }
}
